{"version":3,"sources":["moji-translate/index.js","assets/github.svg","components/chat-window.js","components/message-stream.js","components/compose-message.js","components/message-box.js","actions/index.js","constants/ActionTypes.js","containers/chat-window-container.js","reducers/messages.js","reducers/index.js","sagas/saga.js","App.js","registerServiceWorker.js","index.js"],"names":["emojilib","require","SYMBOLS","allEmoji","lib","isMaybeAlreadyAnEmoji","word","match","join","getAllEmojiForWord","originalWord","trim","toLowerCase","maybeSingular","length","slice","maybePlural","maybeVerbedSimple","maybeVerbedVowel","maybeVerbedDoubled","indexOf","verb","substr","useful","push","emoji","words","keywords","char","category","getEmojiForWord","translations","Math","floor","random","module","exports","translateForDisplay","node","document","createElement","firstSymbol","lastSymbol","innerHTML","i","option","textContent","appendChild","translate","sentence","onlyEmoji","translation","split","translated","__webpack_require__","p","ChatWindow","_React$PureComponent","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","react_default","a","className","message_stream_MessageStream","messages","props","compose_message_ComposeMessage","onSendMessage","React","PureComponent","MessageStream","_getPrototypeOf2","_this","_len","args","Array","_key","call","concat","setRef","el","ref","maxScrollTop","scrollHeight","clientHeight","scrollTop","map","message","index","message_box_MessageBox","ComposeMessage","handleKeyPress","e","state","setState","handleChange","target","type","placeholder","onChange","onKeyPress","MessageBox","styleClass","author","position","theme","saveMessage","payload","ChatWindowContainer","connect","dispatch","sendMessage","initialState","rootReducer","combineReducers","undefined","action","_action$payload","toConsumableArray","processMessage","regenerator_default","wrap","_context","prev","next","put","stop","_marked","saga","mark","_context2","takeEvery","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","App","es","href","src","github","alt","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","ReactDOM","render","App_App","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"4EAAA,IAAMA,EAAWC,EAAQ,IACnBC,EAAU,mCACVC,EAAWH,EAASI,IAO1B,SAASC,EAAsBC,GAM7B,OAAwC,OAAjCA,EAAKC,MALC,CACT,wBACA,wBACA,yBAEqBC,KAAK,MAQhC,SAASC,EAAmBC,GAC1B,IAAIJ,EAAOI,EAAaC,OAAOC,cAE/B,IAAKN,GAAiB,KAATA,GAAwB,MAATA,GAAyB,OAATA,GAA0B,OAATA,EAC3D,MAAO,GAIT,IAAIO,EAAgB,GAChBP,EAAKQ,OAAS,GAA+B,MAA1BR,EAAKA,EAAKQ,OAAS,KACxCD,EAAgBP,EAAKS,MAAM,EAAGT,EAAKQ,OAAS,IAK9C,IAAIE,EAA+B,IAAhBV,EAAKQ,OAAgB,GAAKR,EAAO,IAEhDW,EAAoB,GACpBC,EAAmB,GACnBC,EAAsB,GAE1B,IAA6B,IAAzBb,EAAKc,QAAQ,OAAe,CAC9B,IAAIC,EAAOf,EAAKgB,OAAO,EAAGhB,EAAKQ,OAAS,GAExCG,EAAoBI,EAEpBH,EAAmBG,EAAO,IAE1BF,EAAqBE,EAAKC,OAAO,EAAGD,EAAKP,OAAS,GAIpD,IAAIS,EAAS,GAGb,GAAIlB,EAAsBC,GAExB,OADAiB,EAAOC,KAAKlB,GACLiB,EAmBT,IAAK,IAAIE,IAfI,MAATnB,GAAyB,QAATA,GAClBiB,EAAOC,KAAK,gBACZD,EAAOC,KAAK,iBACM,QAATlB,EACTiB,EAAOC,KAAK,gBACM,OAATlB,EACTiB,EAAOC,KAAK,kCACM,OAATlB,GAA0B,SAATA,EAC1BiB,EAAOC,KAAK,sEACM,OAATlB,GAA0B,OAATA,GAA0B,QAATA,EAC3CiB,EAAOC,KAAK,gBACM,WAATlB,GACTiB,EAAOC,KAAK,gBAGIrB,EAAU,CAC1B,IAAIuB,EAAQvB,EAASsB,GAAOE,UAExBrB,IAASH,EAASsB,GAAOG,MACzBH,IAAUnB,GAASmB,IAAUnB,EAAO,SACpCmB,IAAUZ,GAAiBY,IAAUT,GACrCS,IAAUR,GAAqBQ,IAAUP,GAAoBO,IAAUN,GACtEO,GAASA,EAAMN,QAAQd,IAAS,GAChCoB,GAASA,EAAMN,QAAQP,IAAkB,GACzCa,GAASA,EAAMN,QAAQJ,IAAgB,GACvCU,GAASA,EAAMN,QAAQH,IAAsB,GAC7CS,GAASA,EAAMN,QAAQF,IAAqB,GAC5CQ,GAASA,EAAMN,QAAQD,IAAuB,KAG3Cb,EAAKQ,QAAU,GAAkC,UAA7BX,EAASsB,GAAOI,UACxCN,EAAOC,KAAKrB,EAASsB,GAAOG,OAIlC,OAA0B,IAAlBL,EAAOT,OAAgB,GAAKS,EAQtC,SAASO,EAAgBxB,GACvB,IAAIyB,EAAetB,EAAmBH,GACtC,OAAOyB,EAAaC,KAAKC,MAAMD,KAAKE,SAAWH,EAAajB,SAuF9DqB,EAAOC,QAAQ/B,sBAAwBA,EACvC8B,EAAOC,QAAQ3B,mBAAqBA,EACpC0B,EAAOC,QAAQN,gBAAkBA,EACjCK,EAAOC,QAAQC,oBA9Ef,SAA6B/B,GAO3B,IANA,IAAIgC,EAAOC,SAASC,cAAc,QAG9BC,EAAc,GACdC,EAAa,IAEoB,IAA9BxC,EAAQkB,QAAQd,EAAK,KAC1BmC,GAAenC,EAAK,GACpBA,EAAOA,EAAKS,MAAM,EAAGT,EAAKQ,QAE5B,MAAmD,IAA5CZ,EAAQkB,QAAQd,EAAKA,EAAKQ,OAAS,KACxC4B,GAAcpC,EAAKA,EAAKQ,OAAS,GACjCR,EAAOA,EAAKS,MAAM,EAAGT,EAAKQ,OAAS,GAIrC,IAAIW,EAAQhB,EAAmBH,GAI/B,GAHc,KAAVmB,IACFA,EAAQ,CAACnB,IAEU,IAAjBmB,EAAMX,QACRwB,EAAOC,SAASC,cAAc,SACzBG,UAAYF,EAAchB,EAAQiB,EAAa,QAC/C,CACLJ,EAAOC,SAASC,cAAc,UAC9B,IAAK,IAAII,EAAI,EAAGA,EAAInB,EAAMX,OAAQ8B,IAAK,CACrC,IAAIC,EAASN,SAASC,cAAc,UACpCK,EAAOC,YAAcL,EAAchB,EAAMmB,GAAKF,EAAa,IAC3DJ,EAAKS,YAAYF,IAGrB,OAAOP,GA+CTH,EAAOC,QAAQY,UArCf,SAAmBC,EAAUC,GAG3B,IAFA,IAAIC,EAAc,GACdzB,EAAQuB,EAASG,MAAM,KAClBR,EAAI,EAAGA,EAAIlB,EAAMZ,OAAQ8B,IAAM,CAOtC,IAJA,IAAIH,EAAc,GACdC,EAAa,GACbpC,EAAOoB,EAAMkB,IAEoB,IAA9B1C,EAAQkB,QAAQd,EAAK,KAC1BmC,GAAenC,EAAK,GACpBA,EAAOA,EAAKS,MAAM,EAAGT,EAAKQ,QAE5B,MAAmD,IAA5CZ,EAAQkB,QAAQd,EAAKA,EAAKQ,OAAS,KACxC4B,GAAcpC,EAAKA,EAAKQ,OAAS,GACjCR,EAAOA,EAAKS,MAAM,EAAGT,EAAKQ,OAAS,GAGjCoC,IACFT,EAAcC,EAAa,IAG7B,IAAIW,EAAavB,EAAgBxB,GAC7B+C,EACFF,GAAeV,EAAcY,EAAaX,EAAa,IAC7CQ,IACVC,GAAeV,EAAcnC,EAAOoC,EAAc,KAGtD,OAAOS,uBCjMThB,EAAAC,QAAiBkB,EAAAC,EAAuB,oOCI3BC,SAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,SAAAC,MAAA,WAEI,OACEC,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,2BACbF,EAAAC,EAAA9B,cAACgC,EAAD,CAAeC,SAAUb,KAAKc,MAAMD,WACpCJ,EAAAC,EAAA9B,cAACmC,EAAD,CAAgBC,cAAehB,KAAKc,MAAME,qBALlDpB,EAAA,CAAgCqB,IAAMC,gBCAzBC,EAAb,SAAAtB,GAAA,SAAAsB,IAAA,IAAAC,EAAAC,EAAAvB,OAAAC,EAAA,EAAAD,CAAAE,KAAAmB,GAAA,QAAAG,EAAAlB,UAAAlD,OAAAqE,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAArB,UAAAqB,GAAA,OAAAJ,EAAAvB,OAAAG,EAAA,EAAAH,CAAAE,MAAAoB,EAAAtB,OAAAI,EAAA,EAAAJ,CAAAqB,IAAAO,KAAAvB,MAAAiB,EAAA,CAAApB,MAAA2B,OAAAJ,MAIEK,OAAS,SAACC,GACRR,EAAKS,IAAMD,GALfR,EAAA,OAAAvB,OAAAO,EAAA,EAAAP,CAAAqB,EAAAtB,GAAAC,OAAAQ,EAAA,EAAAR,CAAAqB,EAAA,EAAAZ,IAAA,qBAAAC,MAAA,WASI,IAAMsB,EAAM9B,KAAK8B,IAEXC,EADiCD,EAA/BE,aAA+BF,EAAjBG,aAEtBH,EAAII,UAAYH,EAAe,EAAIA,EAAe,IAZtD,CAAAxB,IAAA,SAAAC,MAAA,WAeW,IACCK,EAAab,KAAKc,MAAlBD,SACR,OACEJ,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,2BAA2BmB,IAAK9B,KAAK4B,QAClDnB,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,gCACZE,EAASsB,IAAI,SAACC,EAASC,GACtB,OAAO5B,EAAAC,EAAA9B,cAAC0D,EAAD,CAAY/B,IAAK8B,EAAOD,QAASA,YArBpDjB,EAAA,CAAmCF,IAAMC,eCF5BqB,EAAb,SAAA1C,GAEE,SAAA0C,EAAYzB,GAAO,IAAAO,EAAA,OAAAvB,OAAAC,EAAA,EAAAD,CAAAE,KAAAuC,IACjBlB,EAAAvB,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyC,GAAAb,KAAA1B,KAAMc,KAMR0B,eAAiB,SAACC,GAChB,GAAc,UAAVA,EAAElC,IAAiB,CACrB,IAAM6B,EAAUf,EAAKqB,MAAMN,QAAQrF,OAC/BqF,IACFf,EAAKP,MAAME,cAAcoB,GACzBf,EAAKsB,SAAS,CAAEP,QAAS,QAZZf,EAiBnBuB,aAAe,SAACH,GACdpB,EAAKsB,SAAS,CAAEP,QAASK,EAAEI,OAAOrC,SAhBlCa,EAAKqB,MAAQ,CACXN,QAAS,IAHMf,EAFrB,OAAAvB,OAAAO,EAAA,EAAAP,CAAAyC,EAAA1C,GAAAC,OAAAQ,EAAA,EAAAR,CAAAyC,EAAA,EAAAhC,IAAA,SAAAC,MAAA,WAwBI,OACEC,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,mBACbF,EAAAC,EAAA9B,cAAA,SACEkE,KAAK,OACLC,YAAY,kBACZvC,MAAOR,KAAK0C,MAAMN,QAClBzB,UAAU,yBACVqC,SAAUhD,KAAK4C,aACfK,WAAYjD,KAAKwC,sBAhC3BD,EAAA,CAAoCtB,IAAMC,eCA7BgC,EAAb,SAAArD,GAAA,SAAAqD,IAAA,OAAApD,OAAAC,EAAA,EAAAD,CAAAE,KAAAkD,GAAApD,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoD,GAAA/C,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAoD,EAAArD,GAAAC,OAAAQ,EAAA,EAAAR,CAAAoD,EAAA,EAAA3C,IAAA,SAAAC,MAAA,WACW,IACC4B,EAAYpC,KAAKc,MAAjBsB,QACFe,EAAgC,QAAnBf,EAAQgB,OACzB,CACEC,SAAU,cACVC,MAAO,iBAGT,CACED,SAAU,gBACVC,MAAO,iBAEX,OACE7C,EAAAC,EAAA9B,cAAA,OAAK+B,UAAS,QAAAgB,OAAUwB,EAAWE,WACjC5C,EAAAC,EAAA9B,cAAA,OAAK+B,UAAS,eAAAgB,OAAiBwB,EAAWG,QAAUlB,EAAQA,cAfpEc,EAAA,CAAgCjC,IAAMC,eCIzBqC,EAAc,SAACC,GAAc,MAAO,CAAEV,KCFvB,eDE2CU,YEa1DC,EAAsBC,YAdX,SAAChB,GACvB,MAAO,CACL7B,SAAU6B,EAAM7B,WAIO,SAAC8C,GAC1B,MAAO,CACL3C,cAAe,SAACoB,GACduB,EFXqB,SAACvB,GAAc,MAAO,CAAEU,KCFvB,eDE2CV,WEWxDwB,CAAYxB,OAKQsB,CAGjC9D,WCpBWiE,EAAe,CAAC,CAC3BT,OAAQ,MACRhB,QAAS,qDCAE0B,EAAcC,YAAgB,CAAElD,SDGrB,WAAkC,IAAjC6B,EAAiCtC,UAAAlD,OAAA,QAAA8G,IAAA5D,UAAA,GAAAA,UAAA,GAAzByD,EAAcI,EAAW7D,UAAAlD,OAAA,EAAAkD,UAAA,QAAA4D,EACxD,OAAQC,EAAOnB,MACb,IFLwB,eEKxB,IAAAoB,EAC8BD,EAAOT,QAA3BJ,EADVc,EACUd,OAAQhB,EADlB8B,EACkB9B,QAChB,SAAAT,OAAA7B,OAAAqE,EAAA,EAAArE,CAAW4C,GAAX,CAAkB,CAAEU,SAAQhB,aAC9B,QACE,OAAOM,2DEPH0B,GAAV,SAAUA,EAAeH,GAAzB,OAAAI,EAAA3D,EAAA4D,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACE,OADFF,EAAAE,KAAA,EACQC,YAAInB,EAAY,CAAEH,OAAQ,MAAOhB,QAAS6B,EAAO7B,WADzD,OAEE,OAFFmC,EAAAE,KAAA,EAEQC,YAAInB,EAAY,CAAEH,OAAQ,MAAOhB,QAAShD,IAAUA,UAAU6E,EAAO7B,YAF7E,wBAAAmC,EAAAI,SAAAC,EAAA5E,MAKO,IAAM6E,EAAIR,EAAA3D,EAAAoE,KAAG,SAAPD,IAAO,OAAAR,EAAA3D,EAAA4D,KAAA,SAAAS,GAAA,cAAAA,EAAAP,KAAAO,EAAAN,MAAA,OAClB,OADkBM,EAAAN,KAAA,EACZO,YJXoB,eIWIZ,GADZ,wBAAAW,EAAAJ,SAAPE,EAAO7E,yBCAdiF,EAAiBC,cACjBC,EAAQC,YAAYtB,EAAauB,YAAgBJ,IACvDA,EAAeK,IAAIT,GAEZ,IAAMU,EAAb,SAAA1F,GAAA,SAAA0F,IAAA,OAAAzF,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,GAAAzF,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyF,GAAApF,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAyF,EAAA1F,GAAAC,OAAAQ,EAAA,EAAAR,CAAAyF,EAAA,EAAAhF,IAAA,SAAAC,MAAA,WAEI,OACEC,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,+CACbF,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,0CACbF,EAAAC,EAAA9B,cAAC4G,EAAA,EAAD,CAAUL,MAAOA,GACf1E,EAAAC,EAAA9B,cAAC6E,EAAD,QAGJhD,EAAAC,EAAA9B,cAAA,OAAK+B,UAAU,eACbF,EAAAC,EAAA9B,cAAA,KAAG6G,KAAK,gDACNhF,EAAAC,EAAA9B,cAAA,OAAK8G,IAAKC,IAAQC,IAAI,kBAXlCL,EAAA,CAAyBtE,IAAMC,eCLzB2E,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAAStJ,MACvB,2DAsCN,SAASuJ,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTI,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBhE,QACf0D,UAAUC,cAAcQ,WAK1BC,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBC,MAAM,SAAAC,GACLH,QAAQG,MAAM,4CAA6CA,WCxEjEC,IAASC,OAAO1G,EAAAC,EAAA9B,cAACwI,EAAD,MAASzI,SAAS0I,eAAe,SDalC,WACb,GAA6C,kBAAmBjB,UAAW,CAGzE,GADkB,IAAIkB,IAAIC,iBAAwBxB,OAAOC,UAC3CwB,SAAWzB,OAAOC,SAASwB,OAIvC,OAGFzB,OAAO0B,iBAAiB,OAAQ,WAC9B,IAAMtB,EAAK,GAAAxE,OAAM4F,iBAAN,sBAEP1B,GAiDV,SAAiCM,GAE/BuB,MAAMvB,GACHI,KAAK,SAAAoB,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBtK,QAAQ,cAG7C4I,UAAUC,cAAc0B,MAAMxB,KAAK,SAAAC,GACjCA,EAAawB,aAAazB,KAAK,WAC7BR,OAAOC,SAASiC,aAKpB/B,EAAgBC,KAGnBa,MAAM,WACLF,QAAQC,IACN,mEArEAmB,CAAwB/B,GAIxBC,UAAUC,cAAc0B,MAAMxB,KAAK,WACjCO,QAAQC,IACN,+GAMJb,EAAgBC,MCxCxBgC","file":"static/js/main.b166a1c1.chunk.js","sourcesContent":["const emojilib = require('emojilib');\nconst SYMBOLS = '!\"#$%&\\'()*+,-./:;<=>?@[]^_`{|}~';\nconst allEmoji = emojilib.lib;\n\n/**\n * Returns true for something that's already an emoji like 🤖.\n * @param {String} word The word to be translated\n * @returns {Bool}\n */\nfunction isMaybeAlreadyAnEmoji(word) {\n  let ranges = [\n      '\\ud83c[\\udf00-\\udfff]', // U+1F300 to U+1F3FF\n      '\\ud83d[\\udc00-\\ude4f]', // U+1F400 to U+1F64F\n      '\\ud83d[\\ude80-\\udeff]' // U+1F680 to U+1F6FF\n  ];\n  return word.match(ranges.join('|')) !== null;\n}\n\n/**\n * Returns the list of all emoji translations of an english word.\n * @param {String} word The word to be translated\n * @returns {Array} The list of emoji translations or '' if none exist.\n */\nfunction getAllEmojiForWord(originalWord) {\n  let word = originalWord.trim().toLowerCase();\n\n  if (!word || word === '' || word === 'a' || word === 'it' || word === 'is')\n    return '';\n\n  // Maybe this is a plural word but the word is the singular?\n  // Don't do it for two letter words since \"as\" would become \"a\" etc.\n  let maybeSingular = '';\n  if (word.length > 2 && word[word.length - 1] === 's') {\n    maybeSingular = word.slice(0, word.length - 1);\n  }\n\n  // Maybe this is a singular word but the word is the plural?\n  // Don't do this for single letter since that will pluralize crazy things.\n  let maybePlural = (word.length === 1) ? '' : word + 's';\n\n  let maybeVerbedSimple = '';\n  let maybeVerbedVowel = '';\n  let maybeVerbedDoubled  = '';\n\n  if (word.indexOf('ing') !== -1) {\n    let verb = word.substr(0, word.length - 3);\n    // eating -> eat\n    maybeVerbedSimple = verb;\n    // dancing -> dance\n    maybeVerbedVowel = verb + 'e';\n    // running -> run\n    maybeVerbedDoubled = verb.substr(0, verb.length - 1);\n  }\n\n  // Go through all the things and find the first one that matches.\n  let useful = [];\n\n  // If this is already an emoji, don't try to translate it.\n  if (isMaybeAlreadyAnEmoji(word)) {\n    useful.push(word);\n    return useful;\n  }\n\n  // If it's \"i\" or \"i\", add some faces to it.\n  if (word === 'i' || word === 'you') {\n    useful.push('😀');\n    useful.push('😊');\n  } else if (word === 'she'){\n    useful.push('💁');\n  } else if (word === 'he'){\n    useful.push('💁‍♂️');\n  } else if (word === 'we' || word === 'they') {\n    useful.push('👩‍👩‍👦‍👦');\n  } else if (word === 'am' || word === 'is' || word === 'are') {\n    useful.push('👉');\n  } else if (word === 'thanks') {\n    useful.push('🙌');\n  }\n\n  for (let emoji in allEmoji) {\n    let words = allEmoji[emoji].keywords;\n    // TODO: omg refactor this one day, please. Why is this even. Why.\n    if (word === allEmoji[emoji].char ||\n        emoji === word || (emoji === word + '_face') ||\n        emoji === maybeSingular || emoji === maybePlural ||\n        emoji === maybeVerbedSimple || emoji === maybeVerbedVowel || emoji === maybeVerbedDoubled ||\n        (words && words.indexOf(word) >= 0) ||\n        (words && words.indexOf(maybeSingular) >= 0) ||\n        (words && words.indexOf(maybePlural) >= 0) ||\n        (words && words.indexOf(maybeVerbedSimple) >= 0) ||\n        (words && words.indexOf(maybeVerbedVowel) >= 0) ||\n        (words && words.indexOf(maybeVerbedDoubled) >= 0)) {\n      // If it's a two letter word that got translated to a flag, it's 99% of the\n      // time incorrect, so stop doing that.\n      if (!(word.length <= 3 && allEmoji[emoji].category === 'flags')) {\n        useful.push(allEmoji[emoji].char);\n      }\n    }\n  }\n  return (useful.length === 0) ? '' : useful;\n}\n\n/**\n * Returns a random emoji translation of an english word.\n * @param {String} word The word to be translated.\n * @returns {String} A random emoji translation or '' if none exists.\n */\nfunction getEmojiForWord(word) {\n  let translations = getAllEmojiForWord(word);\n  return translations[Math.floor(Math.random() * translations.length)];\n}\n\n/**\n * Returns a displayable, possibly translated english word to emoji.\n * This will either be:\n *  - a span containing the word if it cannot be translated\n *  - a span containing an emoji if only one translation exists\n *  - a span containing a <select> with all the translations if multiple exist\n * @param {String} word The word to be translated\n * @returns {HTMLElement} A <span> or <select> element as above.\n */\nfunction translateForDisplay(word) {\n  var node = document.createElement('span');\n\n  // Punctuation blows. Get all the punctuation at the start and end of the word.\n  let firstSymbol = '';\n  let lastSymbol = '';\n\n  while (SYMBOLS.indexOf(word[0]) !== -1) {\n    firstSymbol += word[0];\n    word = word.slice(1, word.length);\n  }\n  while (SYMBOLS.indexOf(word[word.length - 1]) !== -1) {\n    lastSymbol += word[word.length - 1];\n    word = word.slice(0, word.length - 1);\n  }\n\n  // If it's already an emoji, return it.\n  var emoji = getAllEmojiForWord(word);\n  if (emoji === '')\n    emoji = [word];\n\n  if (emoji.length === 1) {\n    node = document.createElement('span');\n    node.innerHTML = firstSymbol + emoji + lastSymbol + ' ';\n  } else {\n    node = document.createElement('select');\n    for (var i = 0; i < emoji.length; i++) {\n      var option = document.createElement('option');\n      option.textContent = firstSymbol + emoji[i] + lastSymbol + ' ';\n      node.appendChild(option);\n    }\n  }\n  return node;\n}\n\n/**\n * Translates an entire sentence to emoji. If multiple translations exist\n * for a particular word, a random emoji is picked.\n * @param {String} sentence The sentence to be translated\n * @param {Bool} onlyEmoji True if the translation should omit all untranslatable words\n * @returns {String} An emoji translation!\n */\nfunction translate(sentence, onlyEmoji) {\n  let translation = '';\n  let words = sentence.split(' ');\n  for (let i = 0; i < words.length; i++ ) {\n    // Punctuation blows. Get all the punctuation at the start and end of the word.\n    // TODO: stop copy pasting this.\n    let firstSymbol = '';\n    let lastSymbol = '';\n    var word = words[i];\n\n    while (SYMBOLS.indexOf(word[0]) !== -1) {\n      firstSymbol += word[0];\n      word = word.slice(1, word.length);\n    }\n    while (SYMBOLS.indexOf(word[word.length - 1]) !== -1) {\n      lastSymbol += word[word.length - 1];\n      word = word.slice(0, word.length - 1);\n    }\n\n    if (onlyEmoji) {\n      firstSymbol = lastSymbol = ''\n    }\n\n    let translated = getEmojiForWord(word);\n    if (translated) {\n      translation += firstSymbol + translated + lastSymbol + ' ';\n    } else if (!onlyEmoji){\n      translation += firstSymbol + word + lastSymbol +  ' '\n    }\n  }\n  return translation;\n}\n\nmodule.exports.isMaybeAlreadyAnEmoji = isMaybeAlreadyAnEmoji;\nmodule.exports.getAllEmojiForWord = getAllEmojiForWord;\nmodule.exports.getEmojiForWord = getEmojiForWord;\nmodule.exports.translateForDisplay = translateForDisplay;\nmodule.exports.translate = translate;\n","module.exports = __webpack_public_path__ + \"static/media/github.dc6635a4.svg\";","import React from 'react'\n\nimport { MessageStream, ComposeMessage } from '.'\n\nexport class ChatWindow extends React.PureComponent {\n  render() {\n    return (\n      <div className='flex flex-column pa2 w5'>\n        <MessageStream messages={this.props.messages} />\n        <ComposeMessage onSendMessage={this.props.onSendMessage} />\n      </div>\n    )\n  }\n}","import React from 'react'\n\nimport { MessageBox } from '.'\n\nexport class MessageStream extends React.PureComponent {\n\n  ref\n\n  setRef = (el) => {\n    this.ref = el\n  }\n\n  componentDidUpdate() {\n    const ref = this.ref\n    const { scrollHeight, clientHeight } = ref\n    const maxScrollTop = scrollHeight - clientHeight\n    ref.scrollTop = maxScrollTop > 0 ? maxScrollTop : 0\n  }\n\n  render() {\n    const { messages } = this.props\n    return (\n      <div className='ba br2 pa2 overflow-auto' ref={this.setRef}>\n        <div className='flex flex-column ma2 min-h24'>\n          {messages.map((message, index) => {\n            return <MessageBox key={index} message={message} />\n          })}\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react'\n\nexport class ComposeMessage extends React.PureComponent {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      message: ''\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      const message = this.state.message.trim()\n      if (message) {\n        this.props.onSendMessage(message)\n        this.setState({ message: '' })\n      }\n    }\n  }\n\n  handleChange = (e) => {\n    this.setState({ message: e.target.value })\n  }\n\n  render() {\n    return (\n      <div className='self-center ma4'>\n        <input\n          type='text'\n          placeholder='Write a message'\n          value={this.state.message}\n          className='ba b--light-silver pa2'\n          onChange={this.handleChange}\n          onKeyPress={this.handleKeyPress} />\n      </div>\n    )\n  }\n}","import React from 'react'\n\nexport class MessageBox extends React.PureComponent {\n  render() {\n    const { message } = this.props\n    const styleClass = message.author === 'You' ?\n      {\n        position: 'justify-end',\n        theme: 'bg-gray white'\n      }\n      :\n      {\n        position: 'justify-start',\n        theme: 'bg-light-gray'\n      }\n    return (\n      <div className={`flex ${styleClass.position}`}>\n        <div className={`br2 ma1 pa2 ${styleClass.theme}`}>{message.message}</div>\n      </div>\n    )\n  }\n}","import { SEND_MESSAGE, SAVE_MESSAGE } from '../constants/ActionTypes'\n\n// UI actions\nexport const sendMessage = (message) => { return { type: SEND_MESSAGE, message } }\n\n// Saga actions\nexport const saveMessage = (payload) => { return { type: SAVE_MESSAGE, payload } }","// UI actions\nexport const SEND_MESSAGE = 'SEND_MESSAGE'\n\n// Saga actions\nexport const SAVE_MESSAGE = 'SAVE_MESSAGE'","import { connect } from 'react-redux'\n\nimport { ChatWindow } from '../components'\nimport { sendMessage } from '../actions'\n\nconst mapStateToProps = (state) => {\n  return {\n    messages: state.messages\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSendMessage: (message) => {\n      dispatch(sendMessage(message))\n    }\n  }\n}\n\nexport const ChatWindowContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ChatWindow)","import { SAVE_MESSAGE } from '../constants/ActionTypes'\n\nexport const initialState = [{\n  author: 'Bot',\n  message: 'Write a message and see it translated to emojis!'\n}]\n\nexport const messages = (state = initialState, action) => {\n  switch (action.type) {\n    case SAVE_MESSAGE:\n      const { author, message } = action.payload\n      return [...state, { author, message }]\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\n\nimport { messages } from './messages'\n\nexport const rootReducer = combineReducers({ messages })","import { takeEvery, put } from 'redux-saga/effects'\n\nimport translate from '../moji-translate'\nimport { saveMessage } from '../actions'\nimport { SEND_MESSAGE } from '../constants/ActionTypes'\n\nfunction* processMessage(action) {\n  yield put(saveMessage({ author: 'You', message: action.message }))\n  yield put(saveMessage({ author: 'Bot', message: translate.translate(action.message) }))\n}\n\nexport const saga = function* () {\n  yield takeEvery(SEND_MESSAGE, processMessage)\n}","import React from 'react'\nimport { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport createSagaMiddleware from 'redux-saga'\nimport 'tachyons/css/tachyons.min.css'\n\nimport { ChatWindowContainer } from './containers'\nimport { rootReducer } from './reducers'\nimport { saga } from './sagas'\nimport github from './assets/github.svg'\n\nconst sagaMiddleware = createSagaMiddleware()\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware))\nsagaMiddleware.run(saga)\n\nexport class App extends React.PureComponent {\n  render() {\n    return (\n      <div className='flex flex-column w-80 mw8 vh-100 center pv4'>\n        <div className='flex flex-auto flex-column self-center'>\n          <Provider store={store}>\n            <ChatWindowContainer />\n          </Provider>\n        </div>\n        <div className='self-center'>\n          <a href='https://github.com/joelgeorgev/emoji-chatbot'>\n            <img src={github} alt='GitHub' />\n          </a>\n        </div>\n      </div>\n    )\n  }\n}","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { App } from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()"],"sourceRoot":""}